databaseChangeLog:
  - changeSet:
      id: 1
      author: karacsonyiz
      changes:
        - createTable:
            tableName: user
            columns:
              - column:
                  name: userid
                  type: int
                  autoIncrement: true
                  constraints:
                    primaryKey: true
                    nullable: false
              - column:
                  name: name
                  type: varchar(255)
                  constraints:
                    nullable: false
                    unique: true
              - column:
                  name: password
                  type: varchar(255)
                  constraints:
                    nullable: false
              - column:
                  name: email
                  type: varchar(255)
                  constraints:
                    nullable: false
                    unique: true
              - column:
                  name: phone
                  type: varchar(12)
                  constraints:
                    nullable: false
              - column:
                  name: address
                  type: varchar(255)
                  constraints:
                    nullable: false
              - column:
                  name: enabled
                  type: int
                  defaultValue: 1
                  constraints:
                    nullable: false
              - column:
                  name: role
                  type: varchar(255)
                  constraints:
                    nullable: false
              - column:
                  name: orgs
                  type: BIGINT
                  constraints:
                    nullable: true
              - column:
                  name: version
                  type: int
                  defaultValue: 1
                  constraints:
                    nullable: true
  - changeSet:
      id: 2
      author: karacsonyiz
      changes:
        - insert:
            tableName: user
            columns:
              - column:
                  name: name
                  value: admin
              - column:
                  name: password
                  value: $2a$10$FV9w7BuvK2gmnVPaUqQ88.d9V2C73VyTvc24DrqHZJXTGnQV5xtl.
              - column:
                  name: email
                  value: admin@admin.com
              - column:
                  name: phone
                  value: 061555444
              - column:
                  name: address
                  value: Bajza utca 33
              - column:
                  name: enabled
                  value: 1
              - column:
                  name: role
                  value: ROLE_ADMIN
  - changeSet:
      id: 3
      author: karacsonyiz
      changes:
        - createTable:
            tableName: organization
            columns:
              - column:
                  name: organizationid
                  type: int
                  autoIncrement: true
                  constraints:
                    primaryKey: true
                    nullable: false
              - column:
                  name: name
                  type: varchar(255)
                  constraints:
                    nullable: false
                    unique: true
              - column:
                  name: users
                  type: BIGINT
                  constraints:
                    nullable: true
        - createTable:
            tableName: orgusers
            columns:
              - column:
                  name: id
                  type: int
                  autoIncrement: true
                  constraints:
                    primaryKey: true
                    nullable: false
              - column:
                  name: userid
                  type: int
                  constraints:
                    foreignKeyName : fk_userid
                    references: user(userid)
                    nullable: false
              - column:
                  name: organizationid
                  type: int
                  constraints:
                    foreignKeyName: fk_organizationid
                    references: organization(organizationid)
                    nullable: false

  - changeSet:
      id: 4
      author: karacsonyiz
      changes:
        - insert:
            tableName: organization
            columns:
              - column:
                  name: name
                  value: konzorcia
        - insert:
            tableName: organization
            columns:
              - column:
                  name: name
                  value: telekom
        - insert:
            tableName: organization
            columns:
              - column:
                  name: name
                  value: otp
  - changeSet:
      id: 5
      author: karacsonyiz
      changes:
        - createTable:
            tableName: log
            columns:
              - column:
                  name: logid
                  type: int
                  autoIncrement: true
                  constraints:
                    primaryKey: true
                    nullable: false
              - column:
                  name: logtext
                  type: LONGTEXT
              - column:
                  name: createdby
                  type: varchar(255)
              - column:
                  name: updatedby
                  type: varchar(255)
              - column:
                  name: createdtimestamp
                  type: varchar(255)
              - column:
                  name: updatedtimestamp
                  type: varchar(255)




